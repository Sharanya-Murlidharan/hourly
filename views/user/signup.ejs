<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elite Wrist - Create Account</title>
    <link rel="stylesheet" href="/css/signup.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="image-section">
            <img src="/image/watch.png" alt="Smartwatch" class="watch-img">
        </div>
        <div class="form-section">
            <h2>HOURLY</h2>
            <p class="sign-in">Already have an account? <a href="#">Sign in</a></p>
            <form>
                <input type="text" placeholder="Name" required>
                <input type="email" placeholder="Email" required>
                <input type="tel" placeholder="Phone Number" required>
                <input type="password" placeholder="Password" required>
                <p class="password-note">Passwords must be at least 8 characters.</p>
                <input type="password" placeholder="Confirm Password" required>
                <label>
                    <input type="checkbox" name="save-password"> Save the password
                </label>
                <button type="submit" class="create-btn">Create an account</button>
                <p class="error">Please confirm the password</p>
                <p>or continue with</p>
                <button type="button" class="google-btn">
                    <i class="fab fa-google"></i> Google
                </button>
                <p class="need-help">Need help?</p>
            </form>
        </div>
    </div>
    <script src="/js/signup.js"></script>
</body>
</html>
 -->
 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hourly - Create Account</title>
    <link rel="stylesheet" href="/css/signup.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Amarante&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="image-section">
            <img src="/image/watch.png" alt="Watch" class="watch-img">
        </div>
        <div class="form-section">
            <h2>Hourly</h2>
            <p>Create an account</p>
            <p class="sign-in">Already have an account? <a href="#">Sign in</a></p>
            <form id="signform" method="post" action="/signup">
                <div class="form-group">
                  
                    <!-- <input type="text" name="name" id="name" placeholder="Enter Name" required><br> -->
                    <label for="fullName">Full Name</label>
                    <input type="text" id="name" name="name" >

                    <div id="error1" class="error-message"></div>
                </div>
                <div class="form-group">
                  
                    <!-- <input type="email" name="email" id="email" placeholder="Email" required><br> -->
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" >

                    <div id="error2" class="error-message"></div>
                </div>
                <div class="form-group">
                
                    <!-- <input type="tel" name="phone" id="phone" placeholder="Phone Number" required><br> -->
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone" >

                    <div id="error3" class="error-message"></div>
                </div>
                <div class="form-group">
                 
                    <!-- <input type="password" name="password" id="password" placeholder="Password" required><br> -->
                    <label for="password">Password</label>
                    <input type="password" id="password" name="password" >

                    <div id="error4" class="error-message"></div>
                </div>
                <!-- <div class="form-group">
                    <p class="password-note">Passwords must be at least 8 characters.</p>
                </div> -->
                <div class="form-group">
                   
                    <!-- <input type="password" name="cPassword" id="confirm-password" placeholder="Confirm Password" required><br> -->
                    <label for="confirmPassword">Confirm Password</label>
                    <input type="password" id="confirm-password" name="cpassword" >

                    <div id="error5" class="error-message"></div>
                </div>
                <% if (locals.message && message.length > 0) { %>
                <div class="alert alert-danger"><%= message %></div>
                <%}%>
                <!-- <div class="form-group checkbox-group"> 
                    <span class="form-group checkbox-group"></span>
                    <label>
                        <input type="checkbox" name="save-password"> Save the password
                    </label>
                
              </div> -->
                <br><button type="submit" class="create-btn">Create an account</button>
                 <p>or continue with</p>
                 <div class="social-btns">
                <a href="/auth/google" class="google-btn">
                    <i class="fab fa-google"></i> Google
                </a>
            </div>
                <p class="need-help">Need help?</p>
            </form>
        </div>
    </div>
    <script>
 
            // accessing buttons by id
            const nameid = document.getElementById('name')
            const emailid = document.getElementById('email')
            const phoneid = document.getElementById('phone')
            const passid = document.getElementById('password')
            const cpassid = document.getElementById('confirm-password')

            // accessing errors by id
            const error1 = document.getElementById('error1')
            const error2 = document.getElementById('error2')
            const error3 = document.getElementById('error3')
            const error4 = document.getElementById('error4')
            const error5 = document.getElementById('error5')

            // accessing whole form by id
            const signform = document.getElementById('signform')

            function nameValidateChecking(){
                const nameval = nameid.value.trim()
                const namepattern = /^[A-Za-z\s]+$/

                if(nameval===""){
                    error1.style.display="block"
                    error1.innerHTML="Please enter a valid name"
                }else if (!namepattern.test(nameval)) {
                    error1.style.display="block"
                    error1.innerHTML="Name can only contain alphabets and spaces"
                }else{
                    error1.style.display="none"
                    error1.innerHTML=""
                }
                return error1.style.display ==="none"
            }

            function emailValidateChecking(){
                const emailval = emailid.value.trim()
                const emailpattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/
                if (emailval==="") {
                    error2.style.display="block"
                    error2.innerHTML="Please enter an email address"
                }else if(!emailpattern.test(emailval)){
                    error2.style.display="block"
                    error2.innerHTML="Invalid Format"
                }else{
                    error2.style.display="none"
                    error2.innerHTML=""
                }
                return error2.style.display === "none"
            }

            function phoneValidateChecking(){
                const phoneval = phoneid.value.trim()
                if (phoneval==="") {
                    error3.style.display="block"
                    error3.innerHTML="Enter valid phone number"
                }else if (phoneval.length !== 10 || isNaN(phoneval)) {
                    error3.style.display="block"
                    error3.innerHTML="Enter a valid 10-digit phone number"
                }else{
                    error3.style.display="none"
                    error3.innerHTML=""
                }
                return error3.style.display === "none"
            }

            function passValidateChecking(){
                const passval = passid.value
                const cpassval = cpassid.value
                const alpha = /[a-zA-Z]/;
                const digit = /\d/;
                if (passval === "") {
                    error4.style.display = "block";
                    error4.innerHTML = "Please enter a password";
                } else if (passval.length<8) {
                    error4.style.display="block"
                    error4.innerHTML="Should contain atleast 8 charachters"
                }else if (!alpha.test(passval) || !digit.test(passval)) {
                    error4.style.display="block"
                    error4.innerHTML="Should contain numbers and alphabets"
                }else{
                    error4.style.display="none"
                    error4.innerHTML=""
                }
                if (cpassval === "") {
                    error5.style.display = "block";
                    error5.innerHTML = "Please confirm your password";
                } else if (passval !== cpassval) {
                    error5.style.display="block"
                    error5.innerHTML="Passwords do not match"
                } else{
                    error5.style.display="none"
                    error5.innerHTML=""
                }
                return error4.style.display === "none" && error5.style.display === "none"; 
            }


         // Real-time Validation
        nameid.addEventListener('input', nameValidateChecking);
        emailid.addEventListener('input', emailValidateChecking);
        phoneid.addEventListener('input', phoneValidateChecking);
        passid.addEventListener('input', passValidateChecking);
        cpassid.addEventListener('input', passValidateChecking);   

        // Form Submission with Validation
        document.addEventListener('DOMContentLoaded',function(){
            signform.addEventListener('submit',function(e){
                const isNameValid = nameValidateChecking();
                const isEmailValid = emailValidateChecking();
                const isPhoneValid = phoneValidateChecking();
                const isPassValid = passValidateChecking();

                if (!isNameValid || !isEmailValid || !isPhoneValid || !isPassValid) {
            e.preventDefault(); // Prevent submission if any validation fails
        }
                
                if(!nameid || !emailid || !phoneid || !passid || cpassid || !error1 || !error2 || !error3 || !error4 || !error5 || !signform){
                    console.error('One or more elemenets not found');
                    
                }

                
            })
        })
    </script>
</body>
</html>